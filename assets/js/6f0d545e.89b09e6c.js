"use strict";(self.webpackChunkpodman=self.webpackChunkpodman||[]).push([[4728],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>u});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=a.createContext({}),l=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):m(m({},n),e)),t},s=function(e){var n=l(e.components);return a.createElement(p.Provider,{value:n},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},h=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),c=l(t),h=o,u=c["".concat(p,".").concat(h)]||c[h]||d[h]||r;return t?a.createElement(u,m(m({ref:n},s),{},{components:t})):a.createElement(u,m({ref:n},s))}));function u(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,m=new Array(r);m[0]=h;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i[c]="string"==typeof e?e:o,m[1]=i;for(var l=2;l<r;l++)m[l]=t[l];return a.createElement.apply(null,m)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},5509:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>m,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var a=t(7462),o=(t(7294),t(3905));const r={},m=void 0,i={unversionedId:"podman-machine/podman-machine-ssh",id:"podman-machine/podman-machine-ssh",title:"podman-machine-ssh",description:"% podman-machine-ssh 1",source:"@site/docs/podman-machine/podman-machine-ssh.md",sourceDirName:"podman-machine",slug:"/podman-machine/podman-machine-ssh",permalink:"/website-new/docs/podman-machine/podman-machine-ssh",draft:!1,editUrl:"https://github.com/containers/website-new/docs/podman-machine/podman-machine-ssh.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"podman-machine-set",permalink:"/website-new/docs/podman-machine/podman-machine-set"},next:{title:"podman-machine-start",permalink:"/website-new/docs/podman-machine/podman-machine-start"}},p={},l=[{value:"NAME",id:"name",level:2},{value:"SYNOPSIS",id:"synopsis",level:2},{value:"DESCRIPTION",id:"description",level:2},{value:"OPTIONS",id:"options",level:2},{value:"<strong>--help</strong>",id:"--help",level:4},{value:"<strong>--username</strong>=<em>name</em>",id:"--usernamename",level:4},{value:"Exit Codes",id:"exit-codes",level:2},{value:"EXAMPLES",id:"examples",level:2},{value:"SEE ALSO",id:"see-also",level:2},{value:"HISTORY",id:"history",level:2}],s={toc:l},c="wrapper";function d(e){let{components:n,...t}=e;return(0,o.kt)(c,(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"% podman-machine-ssh 1"),(0,o.kt)("h2",{id:"name"},"NAME"),(0,o.kt)("p",null,"podman","-","machine","-","ssh - SSH into a virtual machine"),(0,o.kt)("h2",{id:"synopsis"},"SYNOPSIS"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"podman machine ssh")," ","[",(0,o.kt)("em",{parentName:"p"},"options"),"][*name*]"," [",(0,o.kt)("em",{parentName:"p"},"command")," ","[",(0,o.kt)("em",{parentName:"p"},"arg")," ...]","]"),(0,o.kt)("h2",{id:"description"},"DESCRIPTION"),(0,o.kt)("p",null,"SSH into a Podman-managed virtual machine and optionally execute a command\non the virtual machine. Unless using the default virtual machine, the\nfirst argument must be the virtual machine name. The optional command to\nexecute can then follow. If no command is provided, an interactive session\nwith the virtual machine is established."),(0,o.kt)("p",null,"The exit code from ssh command will be forwarded to the podman machine ssh caller, see ",(0,o.kt)("a",{parentName:"p",href:"#Exit-Codes"},"Exit Codes"),"."),(0,o.kt)("p",null,"Rootless only."),(0,o.kt)("h2",{id:"options"},"OPTIONS"),(0,o.kt)("h4",{id:"--help"},(0,o.kt)("strong",{parentName:"h4"},"--help")),(0,o.kt)("p",null,"Print usage statement."),(0,o.kt)("h4",{id:"--usernamename"},(0,o.kt)("strong",{parentName:"h4"},"--username"),"=",(0,o.kt)("em",{parentName:"h4"},"name")),(0,o.kt)("p",null,"Username to use when SSH-ing into the VM."),(0,o.kt)("h2",{id:"exit-codes"},"Exit Codes"),(0,o.kt)("p",null,"The exit code from ",(0,o.kt)("inlineCode",{parentName:"p"},"podman machine ssh")," gives information about why the command failed.\nWhen ",(0,o.kt)("inlineCode",{parentName:"p"},"podman machine ssh")," commands exit with a non-zero code,\nthe exit codes follow the ",(0,o.kt)("inlineCode",{parentName:"p"},"chroot")," standard, see below:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"125")," The error is with podman ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"itself"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine ssh --foo; echo $?\nError: unknown flag: --foo\n125\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"126")," Executing a ",(0,o.kt)("em",{parentName:"p"},"contained command")," and the ",(0,o.kt)("em",{parentName:"p"},"command")," cannot be invoked"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine ssh /etc; echo $?\nError: fork/exec /etc: permission denied\n126\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"127")," Executing a ",(0,o.kt)("em",{parentName:"p"},"contained command")," and the ",(0,o.kt)("em",{parentName:"p"},"command")," cannot be found"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine ssh foo; echo $?\nError: fork/exec /usr/bin/bogus: no such file or directory\n127\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Exit code")," ",(0,o.kt)("em",{parentName:"p"},"contained command")," exit code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine ssh /bin/sh -c 'exit 3'; echo $?\n3\n")),(0,o.kt)("h2",{id:"examples"},"EXAMPLES"),(0,o.kt)("p",null,"To get an interactive session with the default virtual machine:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine ssh\n")),(0,o.kt)("p",null,"To get an interactive session with a VM called ",(0,o.kt)("inlineCode",{parentName:"p"},"myvm"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine ssh myvm\n")),(0,o.kt)("p",null,"To run a command on the default virtual machine:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine ssh rpm -q podman\n")),(0,o.kt)("p",null,"To run a command on a VM called ",(0,o.kt)("inlineCode",{parentName:"p"},"myvm"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine ssh  myvm rpm -q podman\n")),(0,o.kt)("h2",{id:"see-also"},"SEE ALSO"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/website-new/docs/podman"},"podman(1)")),", ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/website-new/docs/podman-machine/"},"podman-machine(1)"))),(0,o.kt)("h2",{id:"history"},"HISTORY"),(0,o.kt)("p",null,"March 2021, Originally compiled by Ashley Cui ",(0,o.kt)("a",{parentName:"p",href:"mailto:acui@redhat.com"},"acui@redhat.com")))}d.isMDXComponent=!0}}]);