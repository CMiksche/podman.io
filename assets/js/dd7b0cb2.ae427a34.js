"use strict";(self.webpackChunkpodman=self.webpackChunkpodman||[]).push([[3988],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=o.createContext({}),l=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},m=function(e){var t=l(e.components);return o.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,p=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=l(n),u=r,h=c["".concat(p,".").concat(u)]||c[u]||d[u]||a;return n?o.createElement(h,s(s({ref:t},m),{},{components:n})):o.createElement(h,s({ref:t},m))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[c]="string"==typeof e?e:r,s[1]=i;for(var l=2;l<a;l++)s[l]=n[l];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2269:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var o=n(7462),r=(n(7294),n(3905));const a={},s=void 0,i={unversionedId:"podman-system/podman-system-service",id:"podman-system/podman-system-service",title:"podman-system-service",description:"% podman-system-service 1",source:"@site/docs/podman-system/podman-system-service.md",sourceDirName:"podman-system",slug:"/podman-system/podman-system-service",permalink:"/website-new/docs/podman-system/podman-system-service",draft:!1,editUrl:"https://github.com/containers/website-new/docs/podman-system/podman-system-service.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"podman-system-reset",permalink:"/website-new/docs/podman-system/podman-system-reset"},next:{title:"podman-system-connection",permalink:"/website-new/docs/podman-system-connection/"}},p={},l=[{value:"NAME",id:"name",level:2},{value:"SYNOPSIS",id:"synopsis",level:2},{value:"DESCRIPTION",id:"description",level:2},{value:"OPTIONS",id:"options",level:2},{value:"<strong>--cors</strong>",id:"--cors",level:4},{value:"<strong>--help</strong>, <strong>-h</strong>",id:"--help--h",level:4},{value:"<strong>--time</strong>, <strong>-t</strong>",id:"--time--t",level:4},{value:"EXAMPLES",id:"examples",level:2},{value:"SEE ALSO",id:"see-also",level:2},{value:"HISTORY",id:"history",level:2}],m={toc:l},c="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"% podman-system-service 1"),(0,r.kt)("h2",{id:"name"},"NAME"),(0,r.kt)("p",null,"podman","-","system","-","service - Run an API service"),(0,r.kt)("h2",{id:"synopsis"},"SYNOPSIS"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"podman system service")," ","[",(0,r.kt)("em",{parentName:"p"},"options"),"]"),(0,r.kt)("h2",{id:"description"},"DESCRIPTION"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"podman system service")," command creates a listening service that will answer API calls for Podman. You may\noptionally provide an endpoint for the API in URI form. For example, ",(0,r.kt)("em",{parentName:"p"},"unix:///tmp/foobar.sock")," or ",(0,r.kt)("em",{parentName:"p"},"tcp://localhost:8080"),".\nIf no endpoint is provided, defaults will be used. The default endpoint for a rootful\nservice is ",(0,r.kt)("em",{parentName:"p"},"unix:///run/podman/podman.sock")," and rootless is ",(0,r.kt)("em",{parentName:"p"},"unix://$XDG_RUNTIME_DIR/podman/podman.sock")," (for\nexample ",(0,r.kt)("em",{parentName:"p"},"unix:///run/user/1000/podman/podman.sock"),")"),(0,r.kt)("p",null,"To access the API service inside a container:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"mount the socket as a volume"),(0,r.kt)("li",{parentName:"ul"},"run the container with ",(0,r.kt)("inlineCode",{parentName:"li"},"--security-opt label=disable"))),(0,r.kt)("p",null,"The REST API provided by ",(0,r.kt)("strong",{parentName:"p"},"podman system service")," is split into two parts: a compatibility layer offering support for the Docker v1.40 API, and a Podman-native Libpod layer.\nDocumentation for the latter is available at ",(0,r.kt)("em",{parentName:"p"},(0,r.kt)("a",{parentName:"em",href:"https://docs.podman.io/en/latest/_static/api.html"},"https://docs.podman.io/en/latest/_static/api.html")),".\nBoth APIs are versioned, but the server will not reject requests with an unsupported version set."),(0,r.kt)("p",null,"Please note that the API grants full access to Podman's capabilities, and as such should be treated as allowing arbitrary code execution as the user running the API.\nAs such, we strongly recommend against making the API socket available via the network.\nThe default configuration (a Unix socket with permissions set to only allow the user running Podman) is the most secure way of running the API."),(0,r.kt)("p",null,"Note: The default systemd unit files (system and user) change the log-level option to ",(0,r.kt)("em",{parentName:"p"},"info")," from ",(0,r.kt)("em",{parentName:"p"},"error"),". This change provides additional information on each API call."),(0,r.kt)("h2",{id:"options"},"OPTIONS"),(0,r.kt)("h4",{id:"--cors"},(0,r.kt)("strong",{parentName:"h4"},"--cors")),(0,r.kt)("p",null,"CORS headers to inject to the HTTP response. The default value is empty string which disables CORS headers."),(0,r.kt)("h4",{id:"--help--h"},(0,r.kt)("strong",{parentName:"h4"},"--help"),", ",(0,r.kt)("strong",{parentName:"h4"},"-h")),(0,r.kt)("p",null,"Print usage statement."),(0,r.kt)("h4",{id:"--time--t"},(0,r.kt)("strong",{parentName:"h4"},"--time"),", ",(0,r.kt)("strong",{parentName:"h4"},"-t")),(0,r.kt)("p",null,"The time until the session expires in ",(0,r.kt)("em",{parentName:"p"},"seconds"),". The default is 5\nseconds. A value of ",(0,r.kt)("inlineCode",{parentName:"p"},"0")," means no timeout, therefore the session will not expire."),(0,r.kt)("p",null,"The default timeout can be changed via the ",(0,r.kt)("inlineCode",{parentName:"p"},"service_timeout=VALUE")," field in containers.conf.\nSee ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/containers/common/blob/main/docs/containers.conf.5.md"},"containers.conf(5)"))," for more information."),(0,r.kt)("h2",{id:"examples"},"EXAMPLES"),(0,r.kt)("p",null,"Run an API listening for 5 seconds using the default socket."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"podman system service --time 5\n")),(0,r.kt)("h2",{id:"see-also"},"SEE ALSO"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/website-new/docs/podman"},"podman(1)")),", ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/website-new/docs/podman-system-connection/"},"podman-system-connection(1)")),", ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/containers/common/blob/main/docs/containers.conf.5.md"},"containers.conf(5)"))),(0,r.kt)("h2",{id:"history"},"HISTORY"),(0,r.kt)("p",null,"January 2020, Originally compiled by Brent Baude ",(0,r.kt)("inlineCode",{parentName:"p"},"<bbaude@redhat.com>"),"\nNovember 2020, Updated by Jhon Honce (jhonce at redhat dot com)"))}d.isMDXComponent=!0}}]);