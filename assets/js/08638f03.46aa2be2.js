"use strict";(self.webpackChunkpodman=self.webpackChunkpodman||[]).push([[8790],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>y});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m=r.createContext({}),p=function(e){var t=r.useContext(m),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(m.Provider,{value:t},e.children)},l="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,m=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),l=p(n),u=a,y=l["".concat(m,".").concat(u)]||l[u]||c[u]||o;return n?r.createElement(y,s(s({ref:t},d),{},{components:n})):r.createElement(y,s({ref:t},d))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=u;var i={};for(var m in t)hasOwnProperty.call(t,m)&&(i[m]=t[m]);i.originalType=e,i[l]="string"==typeof e?e:a,s[1]=i;for(var p=2;p<o;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},1785:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={},s=void 0,i={unversionedId:"commands/podman-system/podman-system-migrate",id:"commands/podman-system/podman-system-migrate",title:"podman-system-migrate",description:"% podman-system-migrate 1",source:"@site/docs/commands/podman-system/podman-system-migrate.md",sourceDirName:"commands/podman-system",slug:"/commands/podman-system/podman-system-migrate",permalink:"/website-new/docs/commands/podman-system/podman-system-migrate",draft:!1,editUrl:"https://github.com/containers/website-new/docs/commands/podman-system/podman-system-migrate.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"podman-system-df",permalink:"/website-new/docs/commands/podman-system/podman-system-df"},next:{title:"podman-system-prune",permalink:"/website-new/docs/commands/podman-system/podman-system-prune"}},m={},p=[{value:"NAME",id:"name",level:2},{value:"SYNOPSIS",id:"synopsis",level:2},{value:"DESCRIPTION",id:"description",level:2},{value:"OPTIONS",id:"options",level:2},{value:"<strong>--new-runtime</strong>=<em>runtime</em>",id:"--new-runtimeruntime",level:4},{value:"SEE ALSO",id:"see-also",level:2},{value:"HISTORY",id:"history",level:2}],d={toc:p},l="wrapper";function c(e){let{components:t,...n}=e;return(0,a.kt)(l,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"% podman-system-migrate 1"),(0,a.kt)("h2",{id:"name"},"NAME"),(0,a.kt)("p",null,"podman","-","system","-","migrate - Migrate existing containers to a new podman version"),(0,a.kt)("h2",{id:"synopsis"},"SYNOPSIS"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"podman system migrate")," ","[",(0,a.kt)("em",{parentName:"p"},"options"),"]"),(0,a.kt)("h2",{id:"description"},"DESCRIPTION"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"podman system migrate")," migrates containers to the latest podman version."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"podman system migrate")," takes care of migrating existing containers to the latest version of podman if any change is necessary."),(0,a.kt)("p",null,'"Rootless Podman uses a pause process to keep the unprivileged\nnamespaces alive. This prevents any change to the ',(0,a.kt)("inlineCode",{parentName:"p"},"/etc/subuid")," and\n",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/subgid")," files from being propagated to the rootless containers\nwhile the pause process is running."),(0,a.kt)("p",null,"For these changes to be propagated, it is necessary to first stop all\nrunning containers associated with the user and to also stop the pause\nprocess and delete its pid file. Instead of doing it manually, ",(0,a.kt)("inlineCode",{parentName:"p"},"podman\nsystem migrate")," can be used to stop both the running containers and the\npause process. The ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/subuid")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/subgid")," files can then be\nedited or changed with usermod to recreate the user namespace with the\nnewly configured mappings."),(0,a.kt)("h2",{id:"options"},"OPTIONS"),(0,a.kt)("h4",{id:"--new-runtimeruntime"},(0,a.kt)("strong",{parentName:"h4"},"--new-runtime"),"=",(0,a.kt)("em",{parentName:"h4"},"runtime")),(0,a.kt)("p",null,"Set a new OCI runtime for all containers.\nThis can be used after a system upgrade which changes the default OCI runtime to move all containers to the new runtime.\nThere are no guarantees that the containers will continue to work under the new runtime, as some runtimes support differing options and configurations."),(0,a.kt)("h2",{id:"see-also"},"SEE ALSO"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"/website-new/docs/podman"},"podman(1)")),", ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"/website-new/docs/commands/podman-system/"},"podman-system(1)")),", ",(0,a.kt)("strong",{parentName:"p"},"usermod(8)")),(0,a.kt)("h2",{id:"history"},"HISTORY"),(0,a.kt)("p",null,"April 2019, Originally compiled by Giuseppe Scrivano (gscrivan at redhat dot com)"))}c.isMDXComponent=!0}}]);