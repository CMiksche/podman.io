"use strict";(self.webpackChunkpodman=self.webpackChunkpodman||[]).push([[5144],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>y});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=r.createContext({}),p=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=p(e.components);return r.createElement(i.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,l=m(e,["components","mdxType","originalType","parentName"]),c=p(n),u=o,y=c["".concat(i,".").concat(u)]||c[u]||d[u]||a;return n?r.createElement(y,s(s({ref:t},l),{},{components:n})):r.createElement(y,s({ref:t},l))}));function y(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=u;var m={};for(var i in t)hasOwnProperty.call(t,i)&&(m[i]=t[i]);m.originalType=e,m[c]="string"==typeof e?e:o,s[1]=m;for(var p=2;p<a;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9885:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>m,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={},s=void 0,m={unversionedId:"podman-system/podman-system-renumber",id:"podman-system/podman-system-renumber",title:"podman-system-renumber",description:"% podman-system-renumber 1",source:"@site/docs/podman-system/podman-system-renumber.md",sourceDirName:"podman-system",slug:"/podman-system/podman-system-renumber",permalink:"/website-new/docs/podman-system/podman-system-renumber",draft:!1,editUrl:"https://github.com/containers/website-new/docs/podman-system/podman-system-renumber.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"podman-system-prune",permalink:"/website-new/docs/podman-system/podman-system-prune"},next:{title:"podman-system-reset",permalink:"/website-new/docs/podman-system/podman-system-reset"}},i={},p=[{value:"NAME",id:"name",level:2},{value:"SYNOPSIS",id:"synopsis",level:2},{value:"DESCRIPTION",id:"description",level:2},{value:"SEE ALSO",id:"see-also",level:2},{value:"HISTORY",id:"history",level:2}],l={toc:p},c="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(c,(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"% podman-system-renumber 1"),(0,o.kt)("h2",{id:"name"},"NAME"),(0,o.kt)("p",null,"podman","-","system","-","renumber - Migrate lock numbers to handle a change in maximum number of locks"),(0,o.kt)("h2",{id:"synopsis"},"SYNOPSIS"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"podman system renumber")),(0,o.kt)("h2",{id:"description"},"DESCRIPTION"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"podman system renumber")," renumbers locks used by containers and pods."),(0,o.kt)("p",null,"Each Podman container and pod is allocated a lock at creation time, up to a maximum number controlled by the ",(0,o.kt)("strong",{parentName:"p"},"num_locks")," parameter in ",(0,o.kt)("strong",{parentName:"p"},"containers.conf"),"."),(0,o.kt)("p",null,"When all available locks are exhausted, no further containers and pods can be created until some existing containers and pods are removed. This can be avoided by increasing the number of locks available via modifying ",(0,o.kt)("strong",{parentName:"p"},"containers.conf")," and subsequently running ",(0,o.kt)("strong",{parentName:"p"},"podman system renumber")," to prepare the new locks (and reallocate lock numbers to fit the new struct)."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"podman system renumber")," must be called after any changes to ",(0,o.kt)("strong",{parentName:"p"},"num_locks")," - failure to do so will result in errors starting Podman as the number of locks available conflicts with the configured number of locks."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"podman system renumber")," can also be used to migrate 1.0 and earlier versions of Podman, which used a different locking scheme, to the new locking model. It is not strictly required to do this, but it is highly recommended to do so as deadlocks can occur otherwise."),(0,o.kt)("p",null,"If possible, avoid calling ",(0,o.kt)("strong",{parentName:"p"},"podman system renumber")," while there are other Podman processes running."),(0,o.kt)("h2",{id:"see-also"},"SEE ALSO"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/website-new/docs/podman"},"podman(1)")),", ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/website-new/docs/podman-system/"},"podman-system(1)")),", ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/containers/common/blob/main/docs/containers.conf.5.md"},"containers.conf(5)"))),(0,o.kt)("h2",{id:"history"},"HISTORY"),(0,o.kt)("p",null,"February 2019, Originally compiled by Matt Heon (mheon at redhat dot com)"))}d.isMDXComponent=!0}}]);