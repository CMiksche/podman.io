"use strict";(self.webpackChunkpodman=self.webpackChunkpodman||[]).push([[3347],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),m=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=m(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=m(n),c=o,h=u["".concat(l,".").concat(c)]||u[c]||d[c]||i;return n?a.createElement(h,r(r({ref:t},p),{},{components:n})):a.createElement(h,r({ref:t},p))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,r[1]=s;for(var m=2;m<i;m++)r[m]=n[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},6377:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>m});var a=n(7462),o=(n(7294),n(3905));const i={},r=void 0,s={unversionedId:"podman-machine/podman-machine-init",id:"podman-machine/podman-machine-init",title:"podman-machine-init",description:"% podman-machine-init 1",source:"@site/docs/podman-machine/podman-machine-init.md",sourceDirName:"podman-machine",slug:"/podman-machine/podman-machine-init",permalink:"/websites-new/docs/podman-machine/podman-machine-init",draft:!1,editUrl:"https://github.com/containers/website-new/docs/podman-machine/podman-machine-init.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"podman-machine-info",permalink:"/websites-new/docs/podman-machine/podman-machine-info"},next:{title:"podman-machine-inspect",permalink:"/websites-new/docs/podman-machine/podman-machine-inspect"}},l={},m=[{value:"NAME",id:"name",level:2},{value:"SYNOPSIS",id:"synopsis",level:2},{value:"DESCRIPTION",id:"description",level:2},{value:"OPTIONS",id:"options",level:2},{value:"<strong>--cpus</strong>=<em>number</em>",id:"--cpusnumber",level:4},{value:"<strong>--disk-size</strong>=<em>number</em>",id:"--disk-sizenumber",level:4},{value:"<strong>--help</strong>",id:"--help",level:4},{value:"<strong>--ignition-path</strong>",id:"--ignition-path",level:4},{value:"<strong>--image-path</strong>",id:"--image-path",level:4},{value:"<strong>--memory</strong>, <strong>-m</strong>=<em>number</em>",id:"--memory--mnumber",level:4},{value:"<strong>--now</strong>",id:"--now",level:4},{value:"<strong>--rootful</strong>",id:"--rootful",level:4},{value:"<strong>--timezone</strong>",id:"--timezone",level:4},{value:"<strong>--username</strong>",id:"--username",level:4},{value:"<strong>--volume</strong>, <strong>-v</strong>=<em>source:target:options</em>",id:"--volume--vsourcetargetoptions",level:4},{value:"<strong>--volume-driver</strong>",id:"--volume-driver",level:4},{value:"EXAMPLES",id:"examples",level:2},{value:"SEE ALSO",id:"see-also",level:2},{value:"HISTORY",id:"history",level:2}],p={toc:m},u="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"% podman-machine-init 1"),(0,o.kt)("h2",{id:"name"},"NAME"),(0,o.kt)("p",null,"podman","-","machine","-","init - Initialize a new virtual machine"),(0,o.kt)("h2",{id:"synopsis"},"SYNOPSIS"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"podman machine init")," ","[",(0,o.kt)("em",{parentName:"p"},"options"),"][*name*]"),(0,o.kt)("h2",{id:"description"},"DESCRIPTION"),(0,o.kt)("p",null,"Initialize a new virtual machine for Podman."),(0,o.kt)("p",null,"Rootless only."),(0,o.kt)("p",null,"Podman on MacOS and Windows requires a virtual machine. This is because containers are Linux -\ncontainers do not run on any other OS because containers' core functionality are\ntied to the Linux kernel. Podman machine must be used to manage MacOS and Windows machines,\nbut can be optionally used on Linux."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"podman machine init")," initializes a new Linux virtual machine where containers are run.\nSSH keys are automatically generated to access the VM, and system connections to the root account\nand a user account inside the VM are added."),(0,o.kt)("p",null,"By default, the VM distribution is ",(0,o.kt)("a",{parentName:"p",href:"https://getfedora.org/en/coreos?stream=testing"},"Fedora CoreOS"),".\nFedora CoreOS upgrades come out every 14 days and are detected and installed automatically. The VM will be rebooted during the upgrade.\nFor more information on updates and advanced configuration, please see the FCOS update docs ",(0,o.kt)("a",{parentName:"p",href:"https://docs.fedoraproject.org/en-US/fedora-coreos/auto-updates/"},"here")," and ",(0,o.kt)("a",{parentName:"p",href:"https://coreos.github.io/zincati/usage/updates-strategy/"},"here"),"."),(0,o.kt)("h2",{id:"options"},"OPTIONS"),(0,o.kt)("h4",{id:"--cpusnumber"},(0,o.kt)("strong",{parentName:"h4"},"--cpus"),"=",(0,o.kt)("em",{parentName:"h4"},"number")),(0,o.kt)("p",null,"Number of CPUs."),(0,o.kt)("h4",{id:"--disk-sizenumber"},(0,o.kt)("strong",{parentName:"h4"},"--disk-size"),"=",(0,o.kt)("em",{parentName:"h4"},"number")),(0,o.kt)("p",null,"Size of the disk for the guest VM in GB."),(0,o.kt)("h4",{id:"--help"},(0,o.kt)("strong",{parentName:"h4"},"--help")),(0,o.kt)("p",null,"Print usage statement."),(0,o.kt)("h4",{id:"--ignition-path"},(0,o.kt)("strong",{parentName:"h4"},"--ignition-path")),(0,o.kt)("p",null,"Fully qualified path of the ignition file."),(0,o.kt)("p",null,"If an ignition file is provided, the file\nwill be copied into the user's CONF_DIR and renamed. Additionally, no SSH keys will\nbe generated nor will a system connection be made. It is assumed that the user will\ndo these things manually or handle otherwise."),(0,o.kt)("h4",{id:"--image-path"},(0,o.kt)("strong",{parentName:"h4"},"--image-path")),(0,o.kt)("p",null,"Fully qualified path or URL to the VM image.\nCan also be set to ",(0,o.kt)("inlineCode",{parentName:"p"},"testing"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"next"),", or ",(0,o.kt)("inlineCode",{parentName:"p"},"stable")," to pull down default image.\nDefaults to ",(0,o.kt)("inlineCode",{parentName:"p"},"testing"),"."),(0,o.kt)("h4",{id:"--memory--mnumber"},(0,o.kt)("strong",{parentName:"h4"},"--memory"),", ",(0,o.kt)("strong",{parentName:"h4"},"-m"),"=",(0,o.kt)("em",{parentName:"h4"},"number")),(0,o.kt)("p",null,"Memory (in MB)."),(0,o.kt)("h4",{id:"--now"},(0,o.kt)("strong",{parentName:"h4"},"--now")),(0,o.kt)("p",null,"Start the virtual machine immediately after it has been initialized."),(0,o.kt)("h4",{id:"--rootful"},(0,o.kt)("strong",{parentName:"h4"},"--rootful")),(0,o.kt)("p",null,"Whether this machine should prefer rootful (",(0,o.kt)("inlineCode",{parentName:"p"},"true"),") or rootless (",(0,o.kt)("inlineCode",{parentName:"p"},"false"),")\ncontainer execution. This option will also determine the remote connection default\nif there is no existing remote connection configurations."),(0,o.kt)("p",null,"API forwarding, if available, will follow this setting."),(0,o.kt)("h4",{id:"--timezone"},(0,o.kt)("strong",{parentName:"h4"},"--timezone")),(0,o.kt)("p",null,"Set the timezone for the machine and containers. Valid values are ",(0,o.kt)("inlineCode",{parentName:"p"},"local")," or\na ",(0,o.kt)("inlineCode",{parentName:"p"},"timezone")," such as ",(0,o.kt)("inlineCode",{parentName:"p"},"America/Chicago"),". A value of ",(0,o.kt)("inlineCode",{parentName:"p"},"local"),", which is the default,\nmeans to use the timezone of the machine host."),(0,o.kt)("p",null,"@@option user-mode-networking"),(0,o.kt)("h4",{id:"--username"},(0,o.kt)("strong",{parentName:"h4"},"--username")),(0,o.kt)("p",null,"Username to use for executing commands in remote VM. Default value is ",(0,o.kt)("inlineCode",{parentName:"p"},"core"),"\nfor FCOS and ",(0,o.kt)("inlineCode",{parentName:"p"},"user")," for Fedora (default on Windows hosts). Should match the one\nused inside the resulting VM image."),(0,o.kt)("h4",{id:"--volume--vsourcetargetoptions"},(0,o.kt)("strong",{parentName:"h4"},"--volume"),", ",(0,o.kt)("strong",{parentName:"h4"},"-v"),"=",(0,o.kt)("em",{parentName:"h4"},"source:target","[:options]")),(0,o.kt)("p",null,"Mounts a volume from source to target."),(0,o.kt)("p",null,"Create a mount. If /host-dir:/machine-dir is specified as the ",(0,o.kt)("inlineCode",{parentName:"p"},"*source:target*"),",\nPodman mounts ",(0,o.kt)("em",{parentName:"p"},"host-dir")," in the host to ",(0,o.kt)("em",{parentName:"p"},"machine-dir")," in the Podman machine."),(0,o.kt)("p",null,"Additional options may be specified as a comma-separated string. Recognized\noptions are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"ro"),": mount volume read-only"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"rw"),": mount volume read/write (default)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"security_model=","[model]"),": specify 9p security model (see below)")),(0,o.kt)("p",null,"The 9p security model ","[determines]"," ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.qemu.org/Documentation/9psetup#Starting_the_Guest_directly"},"https://wiki.qemu.org/Documentation/9psetup#Starting_the_Guest_directly"),"\nif and how the 9p filesystem translates some filesystem operations before\nactual storage on the host."),(0,o.kt)("p",null,"In order to allow symlinks to work, on MacOS the default security model is\n",(0,o.kt)("em",{parentName:"p"},"none"),"."),(0,o.kt)("p",null,"The value of ",(0,o.kt)("em",{parentName:"p"},"mapped-xattr")," specifies that 9p store symlinks and some file\nattributes as extended attributes on the host. This is suitable when the host\nand the guest do not need to interoperate on the shared filesystem, but has\ncaveats for actual shared access; notably, symlinks on the host are not usable\non the guest and vice versa. If interoperability is required, then choose\n",(0,o.kt)("em",{parentName:"p"},"none")," instead, but keep in mind that the guest will not be able to do things\nthat the user running the virtual machine cannot do, e.g. create files owned by\nanother user. Using ",(0,o.kt)("em",{parentName:"p"},"none")," is almost certainly the best choice for read-only\nvolumes."),(0,o.kt)("p",null,"Example: ",(0,o.kt)("inlineCode",{parentName:"p"},'-v "$HOME/git:$HOME/git:ro,security_model=none"')),(0,o.kt)("p",null,"Default volume mounts are defined in ",(0,o.kt)("em",{parentName:"p"},"containers.conf"),". Unless changed, the default values\nis ",(0,o.kt)("inlineCode",{parentName:"p"},"$HOME:$HOME"),"."),(0,o.kt)("h4",{id:"--volume-driver"},(0,o.kt)("strong",{parentName:"h4"},"--volume-driver")),(0,o.kt)("p",null,"Driver to use for mounting volumes from the host, such as ",(0,o.kt)("inlineCode",{parentName:"p"},"virtfs"),"."),(0,o.kt)("h2",{id:"examples"},"EXAMPLES"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ podman machine init\n$ podman machine init myvm\n$ podman machine init --rootful\n$ podman machine init --disk-size 50\n$ podman machine init --memory=1024 myvm\n$ podman machine init -v /Users:/mnt/Users\n")),(0,o.kt)("h2",{id:"see-also"},"SEE ALSO"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/websites-new/docs/podman"},"podman(1)")),", ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/websites-new/docs/podman-machine/"},"podman-machine(1)"))),(0,o.kt)("h2",{id:"history"},"HISTORY"),(0,o.kt)("p",null,"March 2021, Originally compiled by Ashley Cui ",(0,o.kt)("a",{parentName:"p",href:"mailto:acui@redhat.com"},"acui@redhat.com")))}d.isMDXComponent=!0}}]);